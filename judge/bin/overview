#!/bin/sh
#
# Make judge's overview document.
#
# File:		makeoverview
# Author:	Bob Walton (walton@deas.harvard.edu)
# Date:		Tue Dec  5 20:48:50 EST 2000
#
# The authors have placed this program in the public
# domain; they make no warranty and accept no liability
# for this program.
#
# RCS Info (may not be true date or author):
#
#   $Author: hc3 $
#   $Date: 2000/12/06 17:01:07 $
#   $RCSfile: overview,v $
#   $Revision: 1.5 $
#
# The next line starts tcl \
exec tcl "$0" "$@"

# Use tcl rather than tclsh so that `signal' is defined.

# Include common code and parameters:
#
set lib_directory "[file dirname $argv0]/../lib"
source $lib_directory/judging_common.tcl
set log_mode none
catch {

puts "
		     HPCM Overview
		     ---- --------

	Features
	Creating a Contest
	Data and Programs
	Library Data: Problem Directories
	Library Data: Help Documentation Files

Features
--------

The Harvard Programming Contest Manager, HPCM, has the
following features:

    o Supports different kinds of programming contests:

    	email	    Contestants supply their own ac-
		    counts and communicate with the
		    judge by email to get problems and
		    submit solutions.  Contestants may
		    compete at any time.

	informal    Contestants are given accounts which
		    they can use locally or remotely at
		    any time to get problems and submit
		    solutions.

	formal	    Contestants are given accounts and
		    printouts of problems at a fixed
		    contest starting time.

    o Has an automatic judge, that can be used exclu-
      sively, or as an aid to a human judge.

    o Has a library of problems and supports easy semi-
      automated creation of new contests.

    o Keeps a complete log of everything that happens
      during contests in the form of files that can be
      easily analyzed for different purposes.

    o Is written modularly in TCL and Bourne Shell (sh)
      so that HPCM can easily be adapted and modified.


Creating a Contest
-------- - -------

To create a contest, first read the help files


	hpcm/contestant/help/*/*

to get a good idea of what you are creating.  Choose
the type of contest you want to create (email, informal,
formal) and then read the instructions in

	hpcm/examples/<contest-type>_contest/Makefile

This file also contains basic advice on how to judge
the contest.

You should also read

	hpcm/judge/lib/hpcm_judging.rc

and try to understand the parameters in that file as
best you can.

In order to better understand what you are doing, you
should read the following overview and then read the
individual program documentation for some of the pro-
grams used to set up or judge contests.


Data and Programs
---- --- --------

HPCM handles different categories of data:

Library Data
    Problem descriptions, help documentation files,
    example contest parameter files.

Contest Definition Data
    Files that define a contest, including documentation
    for contestants, problem definition, solution defi-
    nition, and contest parameter definition.

Contest Raw Data
    Files that capture submissions and information gen-
    erated during judging, such as binary program files,
    output files, scores, and email replies.

Contest Derived Data
    Scoreboards and contest tracking summaries.


HPCM also contains several different categories of
programs:

Contestant Programs
    Programs run by contestants during a contest.

Judging Programs
    Programs run to judge a contest.

Contest Making Programs
    Programs run to make a contest.

Maintenance Programs
    Programs run to maintain the library or test the
    HPCM system.

Library Data: Problem Directories
------- ----- ------- -----------

The problem library consists of the subdirectory tree
rooted at

	hpcm/problem_library

Each problem (and each demonstration problem) has its
own directory within the problem library.  The last
component of the name of this directory is the name of
the problem, and is also the basename of files describ-
int the problem and solving the problem.

If a problem has name `pppp', then the following files
in the `pppp' directory describe the problem:

    pppp.txt	Problem description.

    Makefile	Gives instructions for compiling and
                running the problem solution.

These files are made available to the contestant, though
in a formal contest only a printout of the pppp.txt file
is made available.

In order to be able to score a problem, three more files
are placed in the problem directory within the program
library:

    pppp.in		    The judges test input.
    pppp.test		    The judges test output.
    Scoring_Instructions    Optional file containing
    			    parameters that control how
			    the automatic scoring is
			    done (e.g., what numeric
			    tolerances are permitted).

A contest has a solutions directory that contains sym-
bolic links to the library problem directories for every
problem that can be judged during the contest.  The
files just mentioned become input to the judging.

In addition to the files already mentioned, the library
problem directory usually contains a judges solution
written in one of the contest programming languages.
The solution is written as a file whose extension indi-
cates the programming language of the solution.  Typical
possibilities are:

    pppp.c	C language solution.
    pppp.cc	C++ language solution.
    pppp.java	JAVA language solution.
    pppp.p	PASCAL language solution.

The programming languages allowed may vary; but every
solution language must be explicitly supported by the
problem Makefile.

It is possible to compile and run the solution within
the library problem directory in the same manner as
a problem is compiled and run by contestants and by the
judge.  Doing this results in making temporary files
that can be removed by the `make clean' command in the
problem directory.

Compilation creates a binary file named `pppp' and may
create other files for some languages:

    pppp	    The executable program binary.
    pppp*.class	    JAVA class files.
    pppp.p2c	    C translation of PASCAL program.

The solution is written to take input from the standard
input (the terminal by default) and put output to the
standard output (also the terminal by default).  The
Makefile contrives to run the program with resource
limits so the standard input and output are mapped to
a .in file and a .out file.  Running the solution using
the Makefile reads or creates the following files:

    pppp.in	Test input.
    pppp.out	Test output.
    core	Dump of program if it crashes.

Its important to note that the solutions do NOT open any
files.

The `make' command in the problem directory makes the
binary program if that does not exist or it is older
than the solution source file, and then makes the
pppp.out file if that does not exist or it is older than
the binary file.

If a problem directory symbolically linked into a con-
test solutions directory has pppp.out file, this file
will be treated as the judge's output in PREFERENCE to
any pppp.test file.  Thus if a judge finds an error in
the judge's solution, the judge merely needs to fix
the solution file and run the `make' command in the
problem directory to fix the judge's output.  After the
contest the judge can replace the pppp.test file by
a copy of the correct pppp.out file.

The `make clean' command in the problem directory de-
letes all temporary files, including `pppp', `pppp.out',
and `core'.

The library problem directories are placed within one of
three subdirectories of the hpcm/problem_library direc-
tory:

	demos	Demonstration problems.

	public	Problems that can be freely distributed
		to the public, without any restriction
		on verbatim copying, and with no re-
		striction on alteration and redistribu-
		tion unless otherwise indicated.

	private	Problems that cannot be redistributed
		to the public.  These have been taken
		off the web in most cases, and can be
		distributed to true friends and colla-
		borators or other members of your uni-
		versity, but cannot be placed on the web
		or be made available to strangers.

The problem directories are listed in the

	hpcm/problem_library/index

file, which can be input to the makejudgingdir program
to define which problems are to be used in a particular
contest, and to create an index of these problems.

Emails giving permission to make various problems public
is in the directory

	hpcm/problem_library/legal



Library Data: Help Documentation Files
------- ----- ---- ------------- -----


"

exit 0

# Include common error catching code:
#
} caught_output
caught_error
