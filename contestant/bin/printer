#! /bin/sh
#
# Display the status of the printer
#
# File:		lpq
# Author:	Bob Walton <walton@deas.harvard.edu>
# Date:		Sun Sep  9 09:59:17 EDT 2001
#
# The authors have placed this program in the public
# domain; they make no warranty and accept no liability
# for this program.
#
# RCS Info (may not be true date or author):
#
#   $Author: hc3 $
#   $Date: 2001/09/09 21:33:16 $
#   $RCSfile: printer,v $
#   $Revision: 1.7 $

case "$1" in
   -* )
   	echo "
lpq

    Display the staus of the printer.

    If ~/.hpcm_contest/printer_map is readable it is
    output.  Otherwise if ~/.hpcm_contest/printer is
    readable the name of the printer in this file is
    output.

    If ~/.hpcm_contest/printer_jobs is readable the
    last few lines of this file are displayed."

    	exit 1
	;;
esac

# Compute printer.
#
if test -r ${HOME}/.hpcm_contest/printer_map
then
    echo ==================== \
         "The Printer Map Is:"
    cat ${HOME}/.hpcm_contest/printer_map

elif test -r ${HOME}/.hpcm_contest/printer
then
    PRINTER=`cat ${HOME}/.hpcm_contest/printer`
    echo ==================== \
         "The Printer is: $PRINTER"
fi

# If printer_jobs is readable, display its last
# 10 lines.
#
if test -r ${HOME}/.hpcm_contest/printer_jobs
then
    echo ============================= \
	 Recent Printer Jobs \
	 =============================
    tail -10 ${HOME}/.hpcm_contest/printer_jobs
    echo ============================= \
	 =================== \
	 =============================
fi

exit 0
