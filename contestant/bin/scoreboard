#!/bin/sh
#
# Display scoreboard.
#
# File:		scoreboard
# Author:	Bob Walton <walton@deas.harvard.edu>
# Date:		Mon Nov 13 10:18:44 EST 2000
#
# The authors have placed this program in the public
# domain; they make no warranty and accept no liability
# for this program.
#
# RCS Info (may not be true date or author):
#
#   $Author: hc3 $
#   $Date: 2000/11/13 15:24:22 $
#   $RCSfile: scoreboard,v $
#   $Revision: 1.3 $

# Time between refreshes.
#
time=30

# Process agument.
#
case "$1" in
    [1-9] )
    	# Argument is page number.
	#
	page=${HOME}/.hpcm_contest/scoreboard.$1
	if test ! -r $page
	then
	    echo cannot read $page
	    exit 1
	fi

	while test 1 = 1
	do
	    clear
	    cat $page
	    sleep $time
	done
	;;
    "" )
        # No argument: display all readable pages.
	# Page 1 must be readable.
	#
	page=${HOME}/.hpcm_contest/scoreboard.1
	if test ! -r $page
	then
	    echo cannot read $page
	    exit 1
	fi
	
	while test 1 = 1
	do
	    for i in 1 2 3 4
	    do
		page=${HOME}/.hpcm_contest/scoreboard.$i
		if test -r $page
		then
		    clear
		    cat $page
		    sleep $time
		fi
	    done
	done
	;;
    * )
        # Other argument.  Display documentation and
	# exit with an error.
	#
    	echo "
scoreboard [page]

    Displays each page of the scoreboard for $time sec-
    conds and then repeats, if no page argument given.
    Otherwise just displays the given page, and refresh-
    es the display every $time seconds."
    	exit 1
	;;
esac

exit 0
