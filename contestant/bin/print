#! /bin/csh -f

if ( -f ~acm-cont/contestant/lib/who-where ) then
    set whowhere=`fgrep $user ~acm-cont/contestant/lib/who-where`
    set who = `echo "$whowhere" | cut -d: -f2`
    set where=`echo "$whowhere" | cut -d: -f3`
else
    set who = ""
    set where=""
endif

if ( -f ~acm-cont/contestant/lib/contest-printer ) then
    setenv PRINTER `cat ~acm-cont/contestant/lib/contest-printer`
endif

( eval "banner '' $user '' '$where' '' $who"; \
  'echo' '\f'; \
  /usr/5bin/pr -f -l64 -e -o4 $argv:q ) | \
  enscript -g -l -M Letter -f Courier10 -p - | \
  lpr -h -P$PRINTER


# Quotes around echo are to force use of the utility that translates \f.
# The lpr at the end is because enscript -h doesn't seem to work.
